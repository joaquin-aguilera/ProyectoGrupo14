<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Prueba Interactiva</title>
</head>
<body>
<h1>Prueba Interactiva Flask + MySQL</h1>

{% if mensajes %}
    <ul>
        {% for msg in mensajes %}
            <li>{{ msg }}</li>
        {% endfor %}
    </ul>
{% endif %}

<!-- FUNCIONARIOS -->
<h2>Funcionario</h2>
<form method="post">
    <input type="hidden" name="accion" value="crear_funcionario">
    <input name="rut" placeholder="RUT" required>
    <input name="nombres" placeholder="Nombres" required>
    <input name="apellidos" placeholder="Apellidos" required>
    <input name="cargo" placeholder="Cargo">
    <input name="turno" type="date">
    <input name="asistencia" placeholder="S/N">
    <button type="submit">Crear</button>
</form>

<h2>Editar / Eliminar Funcionario</h2>
<form method="post">
    <input type="hidden" name="accion" value="editar_funcionario">
    <input name="rut" placeholder="RUT" required>
    <input name="nombres" placeholder="Nombres">
    <input name="apellidos" placeholder="Apellidos">
    <input name="cargo" placeholder="Cargo">
    <input name="turno" type="date">
    <input name="asistencia" placeholder="S/N">
    <button type="submit">Editar</button>
</form>

<form method="post">
    <input type="hidden" name="accion" value="eliminar_funcionario">
    <input name="rut" placeholder="RUT" required>
    <button type="submit">Eliminar</button>
</form>

<h2>Consultar Funcionarios</h2>
<form method="post">
    <input type="hidden" name="accion" value="consultar_funcionarios">
    <button type="submit">Mostrar</button>
</form>
{% if resultados_funcionarios %}
    <ul>
        {% for r in resultados_funcionarios %}
            <li>{{ r[0] }} - {{ r[1] }} {{ r[2] }} - {{ r[3] }} - {{ r[4] }} - {{ r[5] }}</li>
        {% endfor %}
    </ul>
{% endif %}

<!-- RESIDENTES -->
<h2>Residentes</h2>
<form method="post">
    <input type="hidden" name="accion" value="crear_residente">
    <input name="rut_residente" placeholder="RUT" required>
    <input name="fecha_ingreso" type="date">
    <button type="submit">Crear</button>
</form>

<form method="post">
    <input type="hidden" name="accion" value="eliminar_residente">
    <input name="rut_residente" placeholder="RUT" required>
    <button type="submit">Eliminar</button>
</form>

<h2>Consultar Residentes</h2>
<form method="post">
    <input type="hidden" name="accion" value="consultar_residentes">
    <button type="submit">Mostrar</button>
</form>
{% if resultados_residentes %}
    <ul>
        {% for r in resultados_residentes %}
            <li>{{ r[0] }} - {{ r[1] }}</li>
        {% endfor %}
    </ul>
{% endif %}

<!-- MEDICAMENTOS -->
<h2>Medicamentos</h2>
<form method="post">
    <input type="hidden" name="accion" value="crear_medicamento">
    <input name="rut_residente_med" placeholder="RUT Residente" required>
    <input name="nombre_med" placeholder="Nombre" required>
    <input name="dosis" placeholder="Dosis" required>
    <label>CASO SOS <input type="checkbox" name="caso_sos" value="1"></label>
    <input name="medico_indicador" placeholder="MÃ©dico">
    <input name="fecha_inicio" type="date">
    <input name="fecha_termino" type="date">
    <button type="submit">Crear</button>
</form>

<form method="post">
    <input type="hidden" name="accion" value="eliminar_medicamento">
    <input name="id_med" placeholder="ID Medicamento" required>
    <button type="submit">Eliminar</button>
</form>

<h2>Consultar Medicamentos</h2>
<form method="post">
    <input type="hidden" name="accion" value="consultar_medicamentos">
    <button type="submit">Mostrar</button>
</form>
{% if resultados_medicamentos %}
    <ul>
        {% for r in resultados_medicamentos %}
            <li>{{ r[0] }} - {{ r[1] }} - {{ r[2] }} - {{ r[3] }}</li>
        {% endfor %}
    </ul>
{% endif %}

</body>
</html>


